<nav class="navbar navbar-default" role="navigation">
    <div class="navbar-container container">

        <!-- Responsive Navbar for angular-ui explained here: https://github.com/angular-ui/bootstrap/issues/1672 -->

        <div class="navbar-header">
            <button type="button" class="navbar-toggle" ng-init="isCollapsed = true" ng-click="isCollapsed = !isCollapsed">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#/" id="brand"><font color="#eee">MaritimeCloud</font><font color="#aaa" size="3">Portal</font></a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" data-collapse="isCollapsed">

            <!--  navigation bar left (admin) --> 
            <!--ul ng-if="isAuthorized(userRoles.user)" class="nav navbar-nav navbar-left" >
                <li><a href="#/users"> <i class="fa fa-user" style="vertical-align: middle; margin-bottom: 4px"></i> Users </a></li>
                <li><a href="#/log"> <i class="fa fa-fire" style="vertical-align: middle; margin-bottom: 4px"></i> Log </a></li>
            </ul-->
            
            <ul class="nav navbar-nav navbar-left" ng-if="isAuthorized([userRoles.user, userRoles.admin])" >
                
                <!-- ORGANIZATIONS -->
                <li class="dropdown" ng-controller="OrganizationListController">
                    <a class="dropdown-toggle" href="#/orgs">
                        <i class="menu-icon fa fa-users"></i>
                        <span class="menu-text"> Organizations {{context.currentOrganization.title}}</span>
                        <i class="ace-icon fa fa-caret-down"></i>
                    </a>
                    <ul class="dropdown-menu" >
                        <li class="menu-item-lead"> Switch dashboard context: </li>
                        <li ng-repeat="organization in organizations">
                            <a href="#/orgs/{{organization.name}}">
                                <i class="menu-icon fa fa-users"></i> {{organization.title}}
                            </a>
                            <b class="arrow"></b>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#/orgs">
                                <i class="menu-icon fa fa-gears"></i> Manage organizations
                            </a>
                            <b class="arrow"></b>
                        </li>
                    </ul>
                </li>

            </ul>

            <!--  navigation bar right --> 
            <ul class="nav navbar-nav navbar-right">

                <!-- About -->
                <!--li class="dropdown">
                    <a class="dropdown-toggle" href="#">About
                        <i class="ace-icon fa fa-caret-down"></i>
                    </a>
                    <ul style="width: 70px;" class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu">
                        <li><a tabindex="-1" href="content.html#cookies">Cookies</a></li>
                        <li><a tabindex="-1" href="content.html#disclaimer">Disclaimer</a></li>
                    </ul>
                </li-->

                <!-- User -->
                <li ng-if="currentUser" class="dropdown open">
                    <a class='dropdown-toggle' href='#'>
                        <i class='fa fa-user' style='vertical-align: middle; margin-bottom: 4px'></i> {{currentUser.name}} 
                        <i class="ace-icon fa fa-caret-down"></i>
                    </a>
                    <ul style="width: 70px;" class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu">
                        <li><a href="#"><i class="fa fa-cog"></i> Settings </a></li>
                        <li><a data-ui-sref="restricted.userProfile({username : currentUser.name})"><i class="fa fa-user"></i> Profile </a></li>
                        <li class="divider"></li>
                        <li><a href="#" x-ng-click="logout($event)"><i class="fa fa-power-off"></i> Logout </a></li>
                    </ul>
                </li>

                <!-- Login & Join -->
                <li ng-if="!currentUser">
                    <a class="btn-success" href="#/join">Join</a>
                </li>
                <li ng-if="!currentUser">
                    <a class="btn-primary" href="#/dashboard" id="navbarLogin">Log In</a>
                </li>
                <!-- Logout -->
                <li ng-if="currentUser">
                    <a class="btn-grey" href="" ng-click="logout()" id="logout">Log out</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
