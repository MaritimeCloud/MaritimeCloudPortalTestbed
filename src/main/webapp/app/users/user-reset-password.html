<div ng-controller="UserActivationController">

    <div class="col-sm-3"></div>

    <div ng-show="viewState === 'supplyPassword'" class="col-sm-6 widget-container-col widget-box" cg-busy="busyPromise">
        <div class="widget-main">
            <h4 class="header green lighter bigger-200"><i class="ace-icon fa fa-user blue"></i>
                Change Password
            </h4>
            <!--PASSWORD FORM-->           
            <p>
                Please provide a new password for your account:<br>
            </p>
            <form role="form" name="form" novalidate>
                <div ng-include="'users/supply-password.html'"></div>
            </form>
            <!--SUBMIT-->
            <div class="widget-toolbox padding-8 clearfix">
                <a class="btn btn-info pull-right" ng-click="changePassword(user.password)" ng-disabled="!isValid(form.$valid)">
                    <span class="bigger-110">Change</span>
                </a>
            </div>
        </div>
    </div>
    <div ng-show="viewState === 'success'" class="col-sm-6 widget-container-col widget-box" cg-busy="activateAccountPromise">
        <div class="widget-main">
            <h4 class="header green lighter bigger-200"><i class="ace-icon fa fa-user blue"></i>
                Password changed successfully
            </h4>
            <p>
                Your password has been changed. Now login with your new password and amuse yourself<br>
            </p>
            <div class="widget-toolbox padding-8 clearfix">
                <a class="btn btn-success pull-right" ui-sref="restricted.dashboard" >
                    <span class="bigger-110">Login</span>
                </a>
            </div>
        </div>
    </div>
    <div ng-show="viewState === 'expired'" class="col-sm-6 widget-container-col widget-box" cg-busy="activateAccountPromise">
        <div class="widget-main">
            <h4 class="header green lighter bigger-200"><i class="ace-icon fa fa-user blue"></i>
                Unable to locate the account!
            </h4>
            <!-- ALERT --> 
            <alert ng-show="alert" type="danger">{{alert}}</alert>
            <alert type="danger">
                <p>
                    Oh snap! It seems like we have a disagreement here. <br>
                    <br>
                    Apparently we cannot find the combination of your username and the confirmation ID in our registry.<br>
                    <br>
                    Perhaps the link has expired?<br>
                    <br>
                    Repeat the application for a password reset and try again with the new URL.<br>
                </p>
            </alert>
            <div class="widget-toolbox padding-8 clearfix">
                <a class="btn btn-success pull-right" ui-sref="public.landingpage" >
                    <span class="bigger-110">Close</span>
                </a>
            </div>
        </div>
    </div>

</div>

